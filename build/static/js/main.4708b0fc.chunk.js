(this.webpackJsonpdcmp_frontend=this.webpackJsonpdcmp_frontend||[]).push([[0],{28:function(e,t,a){},34:function(e,t,a){e.exports=a(53)},39:function(e,t,a){},40:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(29),c=a.n(r),o=a(7),s=a(10),l=a(12),m=a(11),p=(a(39),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:"headerContainer"},i.a.createElement("div",{id:"headerTitle"},i.a.createElement("a",{href:"./",id:"titleLink"},"The College Hill Digital Cognitive Mapping Project")),i.a.createElement("div",{id:"headerLinks"},i.a.createElement("a",{href:"./page=about",className:"headerLink"},"About"),i.a.createElement("a",{href:"./page=editmap",className:"headerLink"},"Contribute a Map"),i.a.createElement("a",{href:"./page=archive",className:"headerLink"},"Map Archive"),i.a.createElement("a",{href:"./page=research",className:"headerLink"},"Research")))}}]),a}(n.Component)),u=a(14),h=a(20),d=a(19),v=a(6),f=a(54),g=a(18),y=a(17),E="https://dcmp-server.herokuapp.com/",C="editing",N=a(16),b=a.n(N),k=(a(40),Object(y.a)((function(e,t){var a=t.headers;return{headers:Object(u.a)(Object(u.a)({},a),{},{authorization:"".concat(C)})}}))),O=new g.a,x=new d.a({uri:E}),w=new h.a({cache:O,link:k.concat(x)}),S="",T=[],j=function e(t,a){Object(o.a)(this,e),this.key="pin:x".concat(String(t),",y").concat(String(a)),this.x=t,this.y=a,this.name="",this.description="",this.category="",this.otherText=""};var M=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={x:0,y:0,mapName:"",mapCreator:"",mapDescription:"",editName:"",editDescription:"",editTag:"",editOtherText:"",written:!1},n}return Object(s.a)(a,[{key:"onMouseMove",value:function(e){this.setState({x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY}),e.preventDefault()}},{key:"onClick",value:function(e){if(""===S&&!this.state.written&&T.length<51){var t=new j(this.state.x,this.state.y);T.push(t),S=t.key}}},{key:"drawPin",value:function(e){var t=this;return i.a.createElement("div",{key:e.key,className:"mapPin",style:{left:String(e.x-6)+"px",top:String(e.y-6)+"px"}},i.a.createElement("button",{className:"mapPinMarker",onClick:function(){""!==S||t.state.written||(S=e.key,T.forEach((function(e){e.key===S&&T.length>0&&!t.state.written&&(t.setState({editName:e.name}),t.setState({written:!0}))})))}}),i.a.createElement("div",{className:"mapPinName"},e.name))}},{key:"handleMapNameChange",value:function(e){this.setState({mapName:e.target.value})}},{key:"handleMapCreatorChange",value:function(e){this.setState({mapCreator:e.target.value})}},{key:"handleMapDescriptionChange",value:function(e){this.setState({mapDescription:e.target.value})}},{key:"handleNameChange",value:function(e){this.setState({editName:e.target.value})}},{key:"handleDescriptionChange",value:function(e){this.setState({editDescription:e.target.value})}},{key:"handleTagChange",value:function(e){"none"!==e.target.value&&this.setState({editTag:e.target.value})}},{key:"handleOtherTextChange",value:function(e){"none"!==e.target.value&&this.setState({editOtherText:e.target.value})}},{key:"handleRemovePin",value:function(e){this.setState({editName:""}),this.setState({editDescription:""}),T=T.filter((function(e){return e.key!==S})),S=""}},{key:"handleEditSubmit",value:function(e){var t=this;""!==this.state.editName&&(T=T.map((function(e){return e.key===S&&(e.name=t.state.editName,e.description=t.state.editDescription,e.category=t.state.editTag,e.otherText=t.state.editOtherText),e})),this.setState({editName:"",editDescription:"",editTag:"",editOtherText:""}),S="")}},{key:"handleMapSave",value:function(){var e="mutation { saveMap(";""!==this.state.mapName&&(e+=' mapName: "'.concat(this.state.mapName,'"')),""!==this.state.mapCreator&&(e+=' creatorName: "'.concat(this.state.mapCreator,'"')),""!==this.state.mapDescription&&(e+=' description: "'.concat(this.state.mapDescription,'"')),e+=" points: [";for(var t=T,a=0;a<t.length;){var n=t[a];""===n.name?e+='{ name: "placeholder" coordinates: ['.concat(n.x,", ").concat(n.y,"]"):e+='{ name: "'.concat(n.name,'" coordinates: [').concat(n.x,", ").concat(n.y,"]"),""!==n.description&&(e+=' description: "'.concat(n.description,'"')),""!==n.category&&(e+=' category: "'.concat(n.category,'"')),""!==n.otherText&&(e+=' otherText: "'.concat(n.otherText,'"')),""!==this.state.mapCreator&&(e+=' creatorName: "'.concat(this.state.mapCreator,'"')),e+=" }",a<t.length-1&&(e+=", "),a++}return e+=" ])}",b()(e)}},{key:"getSaveButtonClass",value:function(){return this.state.written?"invisible":"saveMapButton"}},{key:"printSavePreface",value:function(){return this.state.written?"Your map was successfuly saved! Map ID: ":""}},{key:"printSaveSuffex",value:function(){if(this.state.written){var e=". Thank you for your contribution";return""!==this.state.mapCreator&&(e=e+" "+this.state.mapCreator),e+="!"}return""}},{key:"getOTClass",value:function(){return"OTHER"===this.state.editTag?"show":"invisible"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"contentContainer"},i.a.createElement("div",{id:"editCreator"},i.a.createElement("div",{id:"mapInfoContainer"},i.a.createElement("div",{id:"mapInputs"},i.a.createElement("input",{id:"mapNameInput",type:"text",className:"topInput",autoComplete:"off",placeholder:"Name of your map (optional)",onChange:this.handleMapNameChange.bind(this)}),i.a.createElement("input",{id:"creatorNameInput",type:"text",className:"topInput",autoComplete:"off",placeholder:"Your name (optional)",onChange:this.handleMapCreatorChange.bind(this)})),i.a.createElement("div",{id:"textAreaContainer"},i.a.createElement("textarea",{id:"mapDescriptionField",autoComplete:"off",placeholder:"A description of your map (optional)",onChange:this.handleMapDescriptionChange.bind(this)})))),i.a.createElement("div",{id:"editMapContainer"},i.a.createElement("div",{id:"mapImageContainer"},i.a.createElement("img",{id:"mapImage",alt:"a map",onMouseMove:this.onMouseMove.bind(this),onClick:this.onClick.bind(this),src:"/collegeHillMap2.png"}),T.map((function(t){return e.drawPin(t)})))),i.a.createElement("div",{id:"editPin"},i.a.createElement("div",{className:""===S?"invisible":"pinContent"},i.a.createElement("div",{className:"editPinNameContainer"},i.a.createElement("input",{className:"editPinInput",type:"text",required:!0,autoComplete:"off",placeholder:"Name of this point",value:this.state.editName,onChange:this.handleNameChange.bind(this)})),i.a.createElement("div",{className:"editPinDescriptionContainer"},i.a.createElement("textarea",{className:"editPinField",autoComplete:"off",placeholder:"Description of this point (optional)",type:"text",value:this.state.editDescription,onChange:this.handleDescriptionChange.bind(this)})),i.a.createElement("div",{className:"editPinTagContainer"},i.a.createElement("select",{id:"pinTag",onChange:this.handleTagChange.bind(this)},i.a.createElement("option",{value:"none",className:"descriptionOption"},"Category of this point (optional)"),i.a.createElement("option",{value:"ART"},"Art"),i.a.createElement("option",{value:"PUBLICSPACE"},"Public Space or Building"),i.a.createElement("option",{value:"RESIDENCE"},"Residence"),i.a.createElement("option",{value:"SCHOOL"},"School or Educational Institution"),i.a.createElement("option",{value:"BUISNESS"},"Shop or other Buisness"),i.a.createElement("option",{value:"WORKPLACE"},"Workplace"),i.a.createElement("option",{value:"OTHER"},"Other"))),i.a.createElement("div",{className:this.getOTClass()},i.a.createElement("input",{className:"editPinInput",type:"text",autoComplete:"off",placeholder:"Category name (optional)",value:this.state.editOtherText,onChange:this.handleOtherTextChange.bind(this)})),i.a.createElement("div",{className:"editPinButtonsContainer"},i.a.createElement("button",{className:"removePinButton bottomButton",onClick:this.handleRemovePin.bind(this)},"Remove Pin"),i.a.createElement("button",{className:"savePinButton bottomButton",onClick:this.handleEditSubmit.bind(this)},"Save Pin")))),i.a.createElement("div",null,this.state.data),i.a.createElement(v.a,{client:w},i.a.createElement(f.a,{mutation:this.handleMapSave()},(function(t,a){var n=a.data;a.error;return i.a.createElement("div",{id:"saveMap"},i.a.createElement("button",{className:"".concat(e.getSaveButtonClass()," bottomButton"),onClick:function(a){""===S&&T.length>0&&(a.preventDefault(),e.setState({written:!0}),t())}},"Save Map"),i.a.createElement("div",{className:"saveMessage"},e.printSavePreface(),i.a.createElement("a",{href:("./viewmap:"+JSON.stringify(n)).replace("undefined","").replace('{"saveMap":"',"").replace('"}',""),className:"saveLink"}," ",(""+JSON.stringify(n)).replace("undefined","").replace('{"saveMap":"',"").replace('"}',"")),e.printSaveSuffex()))}))))}}]),a}(n.Component),P=(a(28),Object(y.a)((function(e,t){var a=t.headers;return{headers:Object(u.a)(Object(u.a)({},a),{},{authorization:"".concat(C)})}}))),D=new g.a,I=new d.a({uri:E}),L=new h.a({cache:D,link:P.concat(I)}),B=function e(t,a,n,i,r,c){Object(o.a)(this,e),this.key="pin:x".concat(String(t),",y").concat(String(a)),this.x=t,this.y=a,this.name=n,this.description=i,this.category=r,this.otherText=c},A=window.location.href.split("viewmap:")[1],R=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={pinName:"",pinDescription:"",pinCategory:"",pinOtherText:""},n}return Object(s.a)(a,[{key:"drawPin",value:function(e,t){var a=this;return i.a.createElement("div",{key:e.key,className:"mapPin",style:{left:String(e.x-6)+"px",top:String(e.y-6)+"px"}},i.a.createElement("button",{className:"mapPinMarker",onClick:function(){t.forEach((function(t){t.key===e.key&&(a.setState({pinName:t.name}),a.setState({pinDescription:t.description}),a.setState({pinCategory:t.category}),a.setState({pinOtherText:t.otherText}))}))}}),i.a.createElement("div",{className:"mapPinName"},e.name))}},{key:"getPinInfoClassName",value:function(){return""===this.state.pinName?"invisible":"pinInfo"}},{key:"getCategory",value:function(){return""!==this.state.pinOtherText&&"OTHER"===this.state.pinCategory?this.state.pinOtherText:this.state.pinCategory}},{key:"render",value:function(){var e=this;return i.a.createElement(v.a,{client:L},i.a.createElement("div",{id:"contentContainer"},i.a.createElement(f.b,{query:b()('query { map(id: "'.concat(A,'") {mapName creatorName createdAt description} }'))},(function(e){var t=e.loading,a=e.error,n=e.data;if(t)return"";if(a)return"Error! ".concat(a.message," --- (Hi this is me. Either you're trying to query a map that doesn't exist or this is my fault. Sorry!)");if(n){var r="Unnamed Map",c="Anonymous Creator",o="";return null!==n.map.mapName&&(r=n.map.mapName),null!==n.map.creatorName&&(c=n.map.creatorName),null!==n.map.description&&(o=n.map.description),i.a.createElement("div",{className:"mapInfo"},i.a.createElement("div",{className:"mapDetailsLeft"},i.a.createElement("div",{className:"mapTitle"},r," by ",c),i.a.createElement("div",{className:"mapDetails"},"Created at: ",n.map.createdAt),i.a.createElement("div",{className:"mapDetails"},"Map ID: ",A)),i.a.createElement("div",{className:"mapDescriptionContainer"},i.a.createElement("div",{className:"mapDescription"},o)))}})),i.a.createElement(f.b,{query:b()('query {pointList(size: 50, query:{ mapId: "'.concat(A,'"}) {name coordinates {x y} description category otherText} }'))},(function(t){var a=t.loading,n=t.error,r=t.data;if(a)return"";if(n)return"Error! ".concat(n.message);if(r){var c=r.pointList.map((function(e){return new B(e.coordinates.x,e.coordinates.y,e.name,e.description,e.category,e.otherText)}));return i.a.createElement("div",{id:"viewMapContainer"},i.a.createElement("div",{id:"mapImageContainer"},i.a.createElement("img",{id:"mapImage",alt:"a map",src:"/collegeHillMap2.png"}),c.map((function(t){return e.drawPin(t,c)}))),i.a.createElement("div",{className:"pinInfo"},i.a.createElement("div",{className:"pinName"},e.state.pinName),i.a.createElement("div",{className:"pinCategory"},e.getCategory()),i.a.createElement("div",{className:"pinDescription"},e.state.pinDescription)))}}))))}}]),a}(n.Component),q=(a(46),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:"aboutContainer"},i.a.createElement("div",{id:"aboutTitle"},"About"),i.a.createElement("div",{id:"aboutContents"},i.a.createElement("div",{className:"aboutParagraph"},"In ",i.a.createElement("i",null,"The Image of the City"),", Kevin Lynch used cognitive mapping to study how a city\u2019s residents engaged with and experienced the urban environment. By studying the maps people produce, what they include, prioritize, and neglect, it is possible to gain some understanding into how those people perceive and experience their shared environment."),i.a.createElement("div",{className:"aboutParagraph"},"Despite the fact that all of a city\u2019s residents occupy the same physical space, each person\u2019s experience of the city is different, and each an invaluable piece of a city\u2019s heritage. The College Hill Digital Cognitive Mapping Project is an attempt to record and preserve that heritage. It\u2019s aim is to create a toolset for people to document and share and collate their experiences of College Hill and for researchers to study that data."),i.a.createElement("div",{className:"aboutParagraph"},"This project draws heavily on the work of many other people. This project is particularly indebted to the exhibit ",i.a.createElement("a",{className:"aboutLink",href:"https://www.districtsix.co.za/permanent-exhibition-digging-deeper/"},"Digging Deeper")," at the ",i.a.createElement("a",{className:"aboutLink",href:"http://cargocollective.com/MacGregorRechicoProjects/Map-It-Out"},"District Six Museum")," in Cape Town, South Africa, and the exhibition ",i.a.createElement("a",{className:"aboutLink",href:"http://cargocollective.com/MacGregorRechicoProjects/Map-It-Out"},"Map It Out - Providence")," by ",i.a.createElement("a",{className:"aboutLink",href:"http://www.gwenmacgregor.com/"},"Gwen MacGregor")," and ",i.a.createElement("a",{className:"aboutLink",href:"http://www.sandrarechico.com/index.html"},"Sandra Rechico"),". This project would also not have been possible without the help of my teachers Dr. Lauran Yapp and Emily Booker.")))}}]),a}(n.Component)),H=(a(47),Object(y.a)((function(e,t){var a=t.headers;return{headers:Object(u.a)(Object(u.a)({},a),{},{authorization:"".concat(C)})}}))),z=new g.a,F=new d.a({uri:E}),G=new h.a({cache:z,link:H.concat(F)}),J=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={page:0,size:10,backClass:"invisible"},n}return Object(s.a)(a,[{key:"getForthClass",value:function(e){return e===this.state.size?"archiveButton":"invisible"}},{key:"render",value:function(){var e=this;return i.a.createElement(v.a,{client:G},i.a.createElement("div",null,i.a.createElement("div",{className:"archiveSearchContainer"}),i.a.createElement("div",{id:"contentContainer"},i.a.createElement(f.b,{query:b()("query { mapList(size: ".concat(this.state.size,", page: ").concat(this.state.page,") {id mapName creatorName createdAt description}}"))},(function(t){var a=t.loading,n=t.error,r=t.data;return a?"":n?"Error! ".concat(n.message):r?i.a.createElement("div",{className:"archiveContent"},Array.from(r.mapList).map((function(e){var t="Unnamed Map",a="Anonymous Creator",n="";return null!==e.mapName&&(t=e.mapName),null!==e.creatorName&&(a=e.creatorName),null!==e.description&&(n=e.description),i.a.createElement("div",{key:e.id,className:"archiveEntryContainer"},i.a.createElement("div",{className:"archiveLeftContainer"},i.a.createElement("div",{className:"archiveTitleContainer"},t," by ",a),i.a.createElement("div",{className:"archiveDateContainer"},e.createdAt),i.a.createElement("div",{className:"archiveLinkContainer"},i.a.createElement("a",{className:"stdLink",href:"./page=viewmap:".concat(e.id)},"View Map"))),i.a.createElement("div",{className:"archiveRightContainer"},n))})),i.a.createElement("div",{className:"archiveButtonContainer"},i.a.createElement("button",{className:e.state.backClass,onClick:function(){1===e.state.page?e.setState({page:e.state.page-1,backClass:"invisible"}):e.setState({page:e.state.page-1})}},"\xab Back"),i.a.createElement("button",{className:e.getForthClass(Array.from(r.mapList).length),onClick:function(){return e.setState({page:e.state.page+1,backClass:"archiveButton"})}},"Forth \xbb"))):void 0})))))}}]),a}(n.Component),U=Object(y.a)((function(e,t){var a=t.headers;return{headers:Object(u.a)(Object(u.a)({},a),{},{authorization:"".concat(C)})}})),Y=new g.a,K=new d.a({uri:E}),W=new h.a({cache:Y,link:U.concat(K)}),_=function e(t,a,n,i,r,c,s,l){Object(o.a)(this,e),this.key="pin:x".concat(String(t),",y").concat(String(a),"map:").concat(l),this.x=t,this.y=a,this.name=n,this.creator=i,this.description=r,this.category=c,this.otherText=s,this.mapId=l},Q=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={pinName:"",pinCreator:"",pinCategory:"",pinOtherText:"",pinDescription:"",pinMapId:""},n}return Object(s.a)(a,[{key:"drawPin",value:function(e,t){var a=this;return i.a.createElement("div",{key:e.key,className:"mapPin",style:{left:String(e.x-6)+"px",top:String(e.y-6)+"px"}},i.a.createElement("button",{className:"mapPinMarker",onClick:function(){t.forEach((function(t){t.key===e.key&&a.setState({pinName:t.name,pinCreator:t.creator,pinDescription:t.description,pinCategory:t.category,pinOtherText:t.otherText,pinMapId:t.mapId})}))}}),i.a.createElement("div",{className:"mapPinName"},e.name))}},{key:"getPinInfoClassName",value:function(){return""===this.state.pinName?"invisible":"pinLinkContainer"}},{key:"getCategory",value:function(){return""!==this.state.pinOtherText&&"OTHER"===this.state.pinCategory?this.state.pinOtherText:this.state.pinCategory}},{key:"render",value:function(){var e=this;return i.a.createElement(v.a,{client:W},i.a.createElement("div",{id:"contentContainer"},i.a.createElement("div",{id:"prompt"},"Click on a pin to view it's data..."),i.a.createElement(f.b,{query:b()("query {pointList(size: 50, query:{ random: true}) {name creatorName coordinates {x y} description category otherText mapId} }")},(function(t){var a=t.loading,n=t.error,r=t.data;if(a)return"Loading...";if(n)return"Error! ".concat(n.message);if(r){var c=new Set;r.pointList.forEach((function(e){var t=new _(e.coordinates.x,e.coordinates.y,e.name,e.creatorName,e.description,e.category,e.otherText,e.mapId);c.add(t)}));var o=Array.from(c);return i.a.createElement("div",{id:"viewMapContainer"},i.a.createElement("div",{id:"mapImageContainer"},i.a.createElement("img",{id:"mapImage",alt:"a map",src:"/collegeHillMap2.png"}),o.map((function(t){return e.drawPin(t,o)}))),i.a.createElement("div",{className:"pinInfo"},i.a.createElement("div",{className:"pinName"},e.state.pinName),i.a.createElement("div",{className:"pinCreator"},e.state.pinCreator),i.a.createElement("div",{className:"pinCategory"},e.getCategory()),i.a.createElement("div",{className:"pinDescription"},e.state.pinDescription),i.a.createElement("div",{className:e.getPinInfoClassName()},"Original Map: ",i.a.createElement("a",{className:"stdLink",href:"./page=viewmap:".concat(e.state.pinMapId)},"id:".concat(e.state.pinMapId)))))}}))))}}]),a}(n.Component),V=(a(48),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:"researchContainer"},i.a.createElement("div",{className:"researchTextContainer"},"One of the primary goals of the College Hill Digital Cognitive Mapping Project was to create a toolset that would be easy for researchers and developers to use. As such, this project is built on top of a publicly available ",i.a.createElement("a",{className:"stdLink",href:"https://graphql.org/"},"GraphQL")," which includes a number of features intended to make the dataset easily accessible to people from a wide variety of backgrounds."),i.a.createElement("div",{id:"tryButtonContainer"},i.a.createElement("a",{href:"https://dcmp-server.herokuapp.com/"},i.a.createElement("button",{className:"tryButton"},"Try it out in the Playground")),i.a.createElement("a",{href:""},i.a.createElement("button",{className:"tryButton"},"Read our Documentation (beta)"))))}}]),a}(n.Component)),X=(a(49),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{id:"footerContainer"},i.a.createElement("div",{id:"footer"}))}}]),a}(n.Component));a(50),a(51);function Z(){var e,t,a=window.location.href.split("page=");return(e=2===a.length?a[1]:"").includes("viewmap:")&&(t=i.a.createElement(R,null)),e.includes("editmap")&&(t=i.a.createElement(M,null)),e.includes("archive")&&(t=i.a.createElement(J,null)),e.includes("about")&&(t=i.a.createElement(q,null)),e.includes("research")&&(t=i.a.createElement(V,null)),t||(t=i.a.createElement(Q,null)),i.a.createElement("div",{className:"App"},i.a.createElement(p,null),i.a.createElement("div",{id:"pageContentContainer"},t),i.a.createElement(X,null))}c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Z,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.4708b0fc.chunk.js.map